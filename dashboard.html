<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
  import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyB_8jnP9Yq5LhYnqFMwJ1G1dUjRqimJklk",
    authDomain: "walastseen.firebaseapp.com",
    projectId: "walastseen",
    storageBucket: "walastseen.appspot.com",
    messagingSenderId: "80496023280",
    appId: "1:80496023280:web:3bea7627c6dcfcece59435"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // Function to get contact status
  async function getContactStatus(contact) {
    const docRef = doc(db, "contactsStatus", contact);
    const docSnap = await getDoc(docRef);

    if (docSnap.exists()) {
      const status = docSnap.data().status;
      return status;
    } else {
      console.log("No such document!");
      return "Error fetching status";
    }
  }

  // Display status for contacts
  async function displayStatus() {
    const contacts = ["+19048464390", "+923440070803"];

    for (let contact of contacts) {
      const status = await getContactStatus(contact);
      const contactElement = document.getElementById(contact);
      contactElement.innerText = `Status: ${status}`;
    }
  }

  // Call the function to display the statuses
  window.onload = displayStatus;
</script>
